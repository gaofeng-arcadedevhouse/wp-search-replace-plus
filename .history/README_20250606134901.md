# WorldTeam Search & Replace

![WordPress](https://img.shields.io/badge/WordPress-5.0%2B-blue)
![PHP](https://img.shields.io/badge/PHP-7.4%2B-purple)
![License](https://img.shields.io/badge/License-GPL%20v2%2B-green)
![Version](https://img.shields.io/badge/Version-1.0.0-orange)

A powerful WordPress content search and replace tool with support for Posts, Pages, ACF fields, and PHP template files with batch search and replace functionality.

## âœ¨ Features

### ğŸ” **Comprehensive Search Support**
- **Database Content**: Posts, Pages, Custom Post Types
- **ACF Fields**: Advanced Custom Fields with full support
- **Custom Fields**: WordPress meta fields
- **Comments**: User comments and metadata
- **Theme Files**: PHP files in active and child themes (PHP files only)

### ğŸ›¡ï¸ **Safety & Security**
- **Automatic Backup**: Database and file backups before operations
- **Permission Control**: Admin-only access with capability checks
- **Operation Confirmation**: Detailed preview before execution
- **Nonce Verification**: CSRF protection for all operations
- **Operation Logging**: Comprehensive audit trail

### âš¡ **Advanced Search Options**
- **Case Sensitive Search**: Toggle case sensitivity
- **Regular Expression**: Full regex pattern support
- **Whole Word Matching**: Exact word boundary matching
- **Real-time Preview**: See changes before applying

### ğŸ¯ **Performance Optimized**
- **Configurable Limits**: File search limits and database pagination
- **Large File Handling**: Skip files over 2MB for better performance
- **Memory Management**: Efficient processing for large datasets
- **Progress Tracking**: Real-time operation progress

### ğŸ’¡ **User-Friendly Interface**
- **Intuitive Design**: Clean, WordPress-standard admin interface
- **Batch Operations**: Select and process multiple items at once
- **Detailed Results**: Comprehensive search results with context
- **Responsive Design**: Works on all device sizes

## ğŸ“‹ Requirements

- **WordPress**: 5.0 or higher
- **PHP**: 7.4 or higher
- **MySQL**: 5.6 or higher
- **Memory**: 128MB recommended (256MB for large sites)
- **Permissions**: File write access for backups

## ğŸš€ Installation

### Method 1: Download and Upload
1. Download the latest release from [GitHub Releases](../../releases)
2. Upload the plugin folder to `/wp-content/plugins/`
3. Activate the plugin through the WordPress admin panel

### Method 2: Git Clone
```bash
cd /path/to/wordpress/wp-content/plugins/
git clone https://github.com/your-username/worldteam-search-replace.git
```

### Method 3: WordPress Admin Upload
1. Download the ZIP file from GitHub
2. Go to Plugins â†’ Add New â†’ Upload Plugin
3. Choose the ZIP file and click Install Now
4. Activate the plugin

## ğŸ“– Quick Start

1. **Access the Tool**: Navigate to `Tools â†’ Search & Replace` in WordPress admin
2. **Set Search Text**: Enter the text you want to find
3. **Choose Scope**: Select where to search (database, files, or both)
4. **Configure Options**: Set case sensitivity, regex mode, etc.
5. **Execute Search**: Click "Start Search" to find matches
6. **Review Results**: Examine found items and select what to replace
7. **Replace**: Enter replacement text and confirm the operation

## ğŸ“š Usage Examples

### Example 1: Domain Change
```
Search Text: https://old-domain.com
Replace Text: https://new-domain.com
Scope: âœ“ Posts Content, âœ“ Pages Content, âœ“ ACF Fields
Options: Case Sensitive âœ—, Whole Words âœ“
```

### Example 2: Contact Information Update
```
Search Text: old-email@company.com
Replace Text: new-email@company.com
Scope: âœ“ Posts Content, âœ“ Pages Content, âœ“ Comments Content
Options: Case Sensitive âœ—, Regex Mode âœ—
```

### Example 3: Function Name Refactoring
```
Search Text: old_function_name
Replace Text: new_function_name
Scope: âœ“ Theme Files
Options: Case Sensitive âœ“, Whole Words âœ“
```

### Example 4: Regular Expression Replace
```
Search Text: \b\d{3}-\d{3}-\d{4}\b
Replace Text: XXX-XXX-XXXX
Scope: âœ“ Posts Content, âœ“ Pages Content
Options: Regex Mode âœ“
```

## ğŸ—ï¸ Architecture

### File Structure
```
worldteam-search-replace/
â”œâ”€â”€ worldteam-search-replace.php     # Main plugin file
â”œâ”€â”€ includes/                        # Core PHP classes
â”‚   â”œâ”€â”€ admin-page.php              # Admin interface
â”‚   â”œâ”€â”€ class-search-handler.php    # Search coordinator
â”‚   â”œâ”€â”€ class-database-handler.php  # Database operations
â”‚   â”œâ”€â”€ class-file-scanner.php      # File system scanning
â”‚   â”œâ”€â”€ class-replace-handler.php   # Replace operations
â”‚   â””â”€â”€ class-backup-handler.php    # Backup management
â”œâ”€â”€ assets/                         # Frontend assets
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ admin.css              # Admin styles
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ admin.js               # Admin JavaScript
â”œâ”€â”€ README.md                       # Documentation
â””â”€â”€ LICENSE                        # GPL v2+ License
```

### Core Components

| Component | Description |
|-----------|-------------|
| **Search Handler** | Coordinates search operations across different data sources |
| **Database Handler** | Manages WordPress database searches and updates |
| **File Scanner** | Handles theme and plugin file operations |
| **Replace Handler** | Processes batch replace operations with validation |
| **Backup Handler** | Creates and manages backups before operations |

## ğŸ”§ Configuration

### Performance Settings

The plugin includes several performance options:

- **Max File Search Limit**: Limit the number of files scanned (100-2000)
- **Database Query Limit**: Results per page for database queries (50-500)
- **Skip Large Files**: Automatically skip files larger than 2MB
- **Enable Search Cache**: Cache results for repeated searches (experimental)

### Search Options

- **Case Sensitive**: Toggle case sensitivity for searches
- **Regular Expression Mode**: Enable regex pattern matching
- **Match Whole Words**: Only match complete words, not partial matches

## ğŸ”’ Security Features

- **Admin-Only Access**: Only users with `manage_options` capability can use the plugin
- **Nonce Verification**: All AJAX requests include CSRF protection
- **File Restrictions**: File operations are limited to WordPress directories
- **Automatic Backups**: All operations create backups before making changes
- **Operation Logging**: Detailed logs of all search and replace operations

## ğŸ› Troubleshooting

### Common Issues

| Issue | Solution |
|-------|----------|
| No search results | Check search text and scope selection |
| Replace operation fails | Verify file permissions and database connectivity |
| Backup creation fails | Check disk space and directory permissions |
| Memory errors | Increase PHP memory limit or reduce batch size |

### Debug Mode

Enable WordPress debug mode to get detailed error information:

```php
// In wp-config.php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
```

Check `/wp-content/debug.log` for detailed error messages.

## ğŸ¤ Contributing

We welcome contributions from the community! Here's how you can help:

### Ways to Contribute

- ğŸ› **Report Bugs**: Open an issue with detailed reproduction steps
- ğŸ’¡ **Suggest Features**: Share your ideas for new functionality
- ğŸ“ **Improve Documentation**: Help make our docs clearer and more comprehensive
- ğŸ’» **Submit Code**: Fork the repo and submit pull requests

### Development Setup

1. **Fork the Repository**
   ```bash
   git clone https://github.com/your-username/worldteam-search-replace.git
   cd worldteam-search-replace
   ```

2. **Set Up Local WordPress**
   - Install a local WordPress development environment
   - Symlink or copy the plugin to `wp-content/plugins/`

3. **Make Changes**
   - Create a feature branch: `git checkout -b feature/your-feature`
   - Make your changes with proper PHP and JavaScript standards
   - Test thoroughly on a development site

4. **Submit Pull Request**
   - Commit your changes: `git commit -am 'Add new feature'`
   - Push to your fork: `git push origin feature/your-feature`
   - Open a Pull Request with detailed description

### Coding Standards

- Follow [WordPress Coding Standards](https://developer.wordpress.org/coding-standards/)
- Use meaningful variable and function names
- Add inline comments for complex logic
- Include PHPDoc comments for all functions
- Test on multiple WordPress versions

## ğŸ“ Changelog

### Version 1.0.0 (2024-01-XX)

#### âœ¨ New Features
- Initial release with comprehensive search and replace functionality
- Support for database content (Posts, Pages, Custom Fields, Comments)
- ACF (Advanced Custom Fields) integration
- Theme file searching and replacing (PHP files only)
- Automatic backup system for database and files
- Advanced search options (regex, case sensitivity, whole words)
- Performance optimization settings
- Real-time progress tracking
- Detailed operation results and logging

#### ğŸ›¡ï¸ Security
- Admin-only access with proper capability checks
- CSRF protection with nonce verification
- Safe file operations with directory restrictions
- Comprehensive input validation and sanitization

#### ğŸ¨ User Interface
- Clean, WordPress-standard admin interface
- Responsive design for all device sizes
- Intuitive workflow with step-by-step guidance
- Detailed confirmation dialogs for destructive operations

## ğŸ“„ License

This plugin is licensed under the [GNU General Public License v2.0 or later](https://www.gnu.org/licenses/gpl-2.0.html).

```
WorldTeam Search & Replace WordPress Plugin
Copyright (C) 2024 WorldTeam

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
```

## ğŸ“ Support

- ğŸ› **Bug Reports**: [Open an issue](../../issues/new?template=bug_report.md)
- ğŸ’¡ **Feature Requests**: [Open an issue](../../issues/new?template=feature_request.md)
- ğŸ“§ **Email Support**: support@worldteam.com
- ğŸ“– **Documentation**: [Wiki](../../wiki)

## ğŸ™ Acknowledgments

- Thanks to the WordPress community for their excellent documentation
- Special thanks to contributors and beta testers
- Built with â¤ï¸ by the WorldTeam development team

---

## âš ï¸ Important Notice

**Always backup your site before performing search and replace operations on a production website.** While this plugin includes automatic backup functionality, we strongly recommend creating an additional full site backup before making significant changes.

Test all operations on a staging environment first, especially when using regular expressions or performing large-scale replacements.

---

*Made with â¤ï¸ for the WordPress community* 